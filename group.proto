syntax = "proto3";

package rankquantity.voyager.api;

import "base.proto";
import "google/protobuf/timestamp.proto";


enum GroupType {
  // 小组内创建，但是小组外可见但是不可以fork
  PROTECT = 0;
  // 小组内外可见，小组外可以操作fork
  PUBLIC = 1;
  // 仅小组内可见，小组外不可以fork
  PRIVATE = 2;
}

// 群组成员类型枚举
enum GroupMemberType{
  // 未指定的普通成员类型（默认值）
  GROUP_MEMBER_TYPE_NORMAL_UNSPECIFIED = 0;
  // 群组创建者，拥有最高权限
  GROUP_MEMBER_TYPE_CREATOR = 1;
  // 群组管理员，负责群组维护和管理
  GROUP_MEMBER_TYPE_MAINTAINER = 2;
  // 贡献者，可以参与群组内容创作
  GROUP_MEMBER_TYPE_CONTRIBUTOR = 3;
  // 普通成员，可以查看和参与群组活动
  GROUP_MEMBER_TYPE_MEMBER = 4;
  // 被禁言的成员，无法发言但可以查看内容
  GROUP_MEMBER_TYPE_BANNED = 5;
  // 被邀请但尚未加入的成员
  GROUP_MEMBER_TYPE_INVITED = 6;
  // 拒绝加入群组的用户
  GROUP_MEMBER_TYPE_REJECTED = 7;
  // 等待审核的成员申请
  GROUP_MEMBER_TYPE_PENDING = 8;
  // 主动离开群组的成员
  GROUP_MEMBER_TYPE_LEAVE = 9;
  // 被踢出群组的成员
  GROUP_MEMBER_TYPE_KICKED = 10;
  // 已删除的成员记录
  GROUP_MEMBER_TYPE_DELETED = 11;
}

message GroupInfo {
  int64 group_id = 1;
  string name = 2;
  string avatar = 3;
  string desc = 4;
  int64 creator = 5;
  int64 owner = 6;
  repeated Tags tags = 7;
  string location = 8;
  int32 status = 9;
  GroupProfileInfo profile = 10;
  repeated GroupMemberInfo members = 11;
  WhatCurrentUserStatus current_user_status = 12;
  int64 Ctime = 19;
  int64 Mtime = 20;
}



message GroupMemberInfo {
  int64 user_id = 1;
  string name = 2;
  string avatar = 3;
  string desc = 4;
  GroupMemberType member_type = 5;
}

message GroupProfileInfo {
  int64 group_id = 1;
  int32 group_member_num = 2;
  int32 group_follower_num = 3;
  int32 group_story_num = 4;
  string description = 8; 
  string backgroud_url = 9;
  
  int64 Ctime = 19;
  int64 Mtime = 20;
}